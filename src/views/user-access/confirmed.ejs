<%- include("../templates/header.ejs", { tipoNavbar: "auth", isSignUp: true, tituloPestana: "¡Confirmado!", cssFiles: [] }) %>

<div class="container">
    
    <div class="alert alert-info alert-dismissible d-none mt-4" role="alert" id="alerta-admin">
        <h4 class="alert-heading">Aviso</h4>
        <p>Ya has validado tu correo electrónico, tu cuenta está pendiente de que un administrador la revise y acepte.</p>
        <p>Disculpe las molestias.</p>
        <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>

    <h2 class="text-dark mt-4">Usuario confirmado</h2>
    <div class="container mt-4">
        <h3 class="text-secondary">La cuenta <span class="text-primary"><%= email %> </span> ha sido correctamente verificada</h3>
    </div>
    <h4 id="subtexto" class="text-secondary my-4"></h4>
    <a class="btn btn-outline-success col-3" href="/login">Iniciar sesión</a>
</div>

<script>
    
    // Parámetros de la query
    const urlSearchParams = new URLSearchParams(window.location.search);
    const params = Object.fromEntries(urlSearchParams.entries());

    const subtexto = document.getElementById("subtexto");
    if(params["admin-left"]) {
        document.getElementById("alerta-admin").classList.remove("d-none");
        subtexto = "Queda pendiente la validación de un administrador."
    } else {
        subtexto = "Ya puede ingresar al sistema";
    }

</script>

<%- include('../templates/footer'); %>